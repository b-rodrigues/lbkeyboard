<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analysis and Optimization of Keyboard Layouts for Luxembourgish • lbkeyboard</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Analysis and Optimization of Keyboard Layouts for Luxembourgish">
<meta property="og:description" content="Tools for analyzing and optimizing keyboard layouts for Luxembourgish and other languages. Includes visualization of keyboard layouts, letter frequency analysis, and a genetic algorithm for finding optimal layouts that minimize typing effort. The effort model is inspired by Carpalx and considers finger travel distance, same-finger bigrams, hand alternation, and row changes.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">lbkeyboard</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/getting-started.html">Getting Started with lbkeyboard</a>
    </li>
    <li>
      <a href="articles/luxembourg-optimization.html">Optimizing Keyboard Layouts for Luxembourg</a>
    </li>
    <li>
      <a href="articles/rules-system.html">Composable Rules System</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="lbkeyboard">lbkeyboard<a class="anchor" aria-label="anchor" href="#lbkeyboard"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>lbkeyboard provides several functions to generate optimized keyboard layouts for Luxembourg; this means that the layout needs to work well with French, German, Luxembourguish and English. These 4 languages are the most used languages in the country, with French being (very likely) the most used language.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of lbkeyboard from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"b-rodrigues/lbkeyboard"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>For now, this package only allows you to create a plot of several layouts.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">lbkeyboard</span><span class="op">)</span></span>
<span><span class="co">## basic example code</span></span></code></pre></div>
<p>Here is the BÉPO layout:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ggkeyboard.html">ggkeyboard</a></span><span class="op">(</span>keyboard <span class="op">=</span> <span class="va">afnor_bepo</span>, layout <span class="op">=</span> <span class="st">"iso"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-2-1.png" width="100%"></p>
<p>and here the AZERTY layout:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ggkeyboard.html">ggkeyboard</a></span><span class="op">(</span>keyboard <span class="op">=</span> <span class="va">afnor_azerty</span>, layout <span class="op">=</span> <span class="st">"iso"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-3-1.png" width="100%"></p>
<p>AZERTY and BÉPO are the layouts used in France; AZERTY is, by a very wide margin, the most used layout in France. BÉPO is an optimized layout for the French layout.</p>
<p>In Luxembourg, the most used layout is the Swiss French (or German, depending on the user’s preferences):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ggkeyboard.html">ggkeyboard</a></span><span class="op">(</span>keyboard <span class="op">=</span> <span class="va">ch_qwertz</span>, layout <span class="op">=</span> <span class="st">"iso"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"></p>
<p>It is also possible to generate heatmaps. First, let’s load some French text:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"french"</span><span class="op">)</span></span></code></pre></div>
<p>Then, let’s compute the frequency of the letters:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">letter_freq_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/letter_freq.html">letter_freq</a></span><span class="op">(</span><span class="va">french</span><span class="op">)</span></span></code></pre></div>
<p>Let’s add the colours:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">heatmap_azerty</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/heatmapize.html">heatmapize</a></span><span class="op">(</span><span class="va">afnor_azerty</span>, <span class="va">letter_freq_df</span><span class="op">)</span></span></code></pre></div>
<p>Let’s plot the heatmap:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ggkeyboard.html">ggkeyboard</a></span><span class="op">(</span><span class="va">heatmap_azerty</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 1 rows containing non-finite values (stat_ellip).</span></span>
<span><span class="co">#&gt; Warning: Removed 6 rows containing non-finite values (stat_ellip).</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-8-1.png" width="100%"></p>
<p>Let’s compare to the BÉPO layout:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">heatmap_bepo</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/heatmapize.html">heatmapize</a></span><span class="op">(</span><span class="va">afnor_bepo</span>, <span class="va">letter_freq_df</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/ggkeyboard.html">ggkeyboard</a></span><span class="op">(</span><span class="va">heatmap_bepo</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 1 rows containing non-finite values (stat_ellip).</span></span>
<span><span class="co">#&gt; Warning: Removed 5 rows containing non-finite values (stat_ellip).</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-9-1.png" width="100%"></p>
<p>Let’s compare heatmaps for Swiss German (QWERTZ) and BÉPO for the German language:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"german"</span><span class="op">)</span></span>
<span><span class="va">letter_freq_de</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/letter_freq.html">letter_freq</a></span><span class="op">(</span><span class="va">german</span><span class="op">)</span></span>
<span></span>
<span><span class="va">heatmap_qwertz</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/heatmapize.html">heatmapize</a></span><span class="op">(</span><span class="va">ch_qwertz</span>, <span class="va">letter_freq_de</span><span class="op">)</span></span>
<span><span class="va">heatmap_bepo_de</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/heatmapize.html">heatmapize</a></span><span class="op">(</span><span class="va">afnor_bepo</span>, <span class="va">letter_freq_de</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/ggkeyboard.html">ggkeyboard</a></span><span class="op">(</span><span class="va">heatmap_qwertz</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 1 rows containing non-finite values (stat_ellip).</span></span>
<span><span class="co">#&gt; Warning: Removed 4 rows containing non-finite values (stat_ellip).</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-10-1.png" width="100%"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ggkeyboard.html">ggkeyboard</a></span><span class="op">(</span><span class="va">heatmap_bepo_de</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 1 rows containing non-finite values (stat_ellip).</span></span>
<span><span class="co">#&gt; Removed 4 rows containing non-finite values (stat_ellip).</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-10-2.png" width="100%"></p>
<p>Even though BÉPO is originally a layout optimized for the French language, we can see from the heatmap that the most frequently used letters are in the home row, which is not the case for the Swiss German (QWERTZ layout).</p>
<p>Let’s also generate some heatmaps for English:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"english"</span><span class="op">)</span></span>
<span><span class="va">letter_freq_en</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/letter_freq.html">letter_freq</a></span><span class="op">(</span><span class="va">english</span><span class="op">)</span></span>
<span></span>
<span><span class="va">heatmap_qwertz</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/heatmapize.html">heatmapize</a></span><span class="op">(</span><span class="va">ch_qwertz</span>, <span class="va">letter_freq_en</span><span class="op">)</span></span>
<span><span class="va">heatmap_bepo_en</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/heatmapize.html">heatmapize</a></span><span class="op">(</span><span class="va">afnor_bepo</span>, <span class="va">letter_freq_en</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/ggkeyboard.html">ggkeyboard</a></span><span class="op">(</span><span class="va">heatmap_qwertz</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 1 rows containing non-finite values (stat_ellip).</span></span>
<span><span class="co">#&gt; Warning: Removed 3 rows containing non-finite values (stat_ellip).</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-11-1.png" width="100%"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ggkeyboard.html">ggkeyboard</a></span><span class="op">(</span><span class="va">heatmap_bepo_en</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 1 rows containing non-finite values (stat_ellip).</span></span>
<span><span class="co">#&gt; Removed 3 rows containing non-finite values (stat_ellip).</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-11-2.png" width="100%"></p>
<p>Here again, we see that the BÉPO layout seems to fare better than the QWERTZ layout.</p>
</div>
<div class="section level2">
<h2 id="optimization-algorithm">Optimization algorithm<a class="anchor" aria-label="anchor" href="#optimization-algorithm"></a>
</h2>
<p>TBD</p>
</div>
<div class="section level2">
<h2 id="acknowledgment">Acknowledgment<a class="anchor" aria-label="anchor" href="#acknowledgment"></a>
</h2>
<p>This package uses some code from my fork of the <a href="https://github.com/b-rodrigues/ggkeyboard" class="external-link">ggkeyboard</a> package (original package can be found <a href="https://github.com/sharlagelfand/ggkeyboard" class="external-link">here</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 3)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing lbkeyboard</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Bruno Rodrigues <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/YOUR-ORCID-ID" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Bruno Rodrigues.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
