<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started with lbkeyboard • lbkeyboard</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with lbkeyboard">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lbkeyboard</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/getting-started.html">Getting Started with lbkeyboard</a>
    </li>
    <li>
      <a href="../articles/luxembourg-optimization.html">Optimizing Keyboard Layouts for Luxembourg</a>
    </li>
    <li>
      <a href="../articles/rules-system.html">Composable Rules System</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started with lbkeyboard</h1>
            
      

      <div class="hidden name"><code>getting-started.Rmd</code></div>

    </div>

    
    
<p>This vignette provides a complete walkthrough of the lbkeyboard
package, demonstrating how to analyze, visualize, and optimize keyboard
layouts.</p>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">lbkeyboard</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="understanding-keyboard-layouts">Understanding Keyboard Layouts<a class="anchor" aria-label="anchor" href="#understanding-keyboard-layouts"></a>
</h2>
<p>The package includes several built-in keyboard layouts:</p>
<ul>
<li>
<strong>afnor_bepo</strong> - French BÉPO optimized layout</li>
<li>
<strong>afnor_azerty</strong> - French AZERTY layout</li>
<li>
<strong>ch_qwertz</strong> - Swiss QWERTZ layout</li>
</ul>
<p>Visualize layouts with <code><a href="../reference/ggkeyboard.html">ggkeyboard()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Visualize the QWERTZ layout commonly used in Luxembourg</span></span>
<span><span class="fu"><a href="../reference/ggkeyboard.html">ggkeyboard</a></span><span class="op">(</span>keyboard <span class="op">=</span> <span class="va">ch_qwertz</span>, layout <span class="op">=</span> <span class="st">"iso"</span><span class="op">)</span></span></code></pre></div>
<p>For quick console output, use <code><a href="../reference/print_layout.html">print_layout()</a></code> with the 26
letter keys:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># QWERTY layout (letters only)</span></span>
<span><span class="va">qwerty</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"q"</span>, <span class="st">"w"</span>, <span class="st">"e"</span>, <span class="st">"r"</span>, <span class="st">"t"</span>, <span class="st">"y"</span>, <span class="st">"u"</span>, <span class="st">"i"</span>, <span class="st">"o"</span>, <span class="st">"p"</span>,</span>
<span>  <span class="st">"a"</span>, <span class="st">"s"</span>, <span class="st">"d"</span>, <span class="st">"f"</span>, <span class="st">"g"</span>, <span class="st">"h"</span>, <span class="st">"j"</span>, <span class="st">"k"</span>, <span class="st">"l"</span>,</span>
<span>  <span class="st">"z"</span>, <span class="st">"x"</span>, <span class="st">"c"</span>, <span class="st">"v"</span>, <span class="st">"b"</span>, <span class="st">"n"</span>, <span class="st">"m"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/print_layout.html">print_layout</a></span><span class="op">(</span><span class="va">qwerty</span><span class="op">)</span></span>
<span><span class="co">#&gt; ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐</span></span>
<span><span class="co">#&gt; │ Q │ W │ E │ R │ T │ Y │ U │ I │ O │ P │</span></span>
<span><span class="co">#&gt; ├───┼───┼───┼───┼───┼───┼───┼───┼───┘</span></span>
<span><span class="co">#&gt; │ A │ S │ D │ F │ G │ H │ J │ K │ L │</span></span>
<span><span class="co">#&gt; ├───┼───┼───┼───┼───┼───┼───┘</span></span>
<span><span class="co">#&gt; │ Z │ X │ C │ V │ B │ N │ M │</span></span>
<span><span class="co">#&gt; └───┴───┴───┴───┴───┴───┴───┘</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="letter-frequency-analysis">Letter Frequency Analysis<a class="anchor" aria-label="anchor" href="#letter-frequency-analysis"></a>
</h2>
<p>Before optimizing a layout, we need text samples to analyze. The
package includes sample texts in French, German, English, and
Luxembourgish:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"french"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"german"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"english"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"luxembourguish"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View first 200 characters of French sample</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">french</span>, <span class="fl">1</span>, <span class="fl">200</span><span class="op">)</span>, <span class="st">"...\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Au commencement, Dieu créa les cieux et la terre. La terre était informe et vide: il y avait des ténèbres à la surface de l'abîme, et l'esprit de Dieu se mouvait au-dessus des eaux. Dieu dit: Que la lumière soit! Et la lumière fut. Dieu vit que la lumière était bonne; et Dieu sépara la lumière d'avec les ténèbres. Dieu appela la lumière jour, et il appela les ténèbres nuit. Ainsi, il y eut un soir, et il y eut un matin: ce fut le premier jour. Dieu dit: Qu'il y ait une étendue entre les eaux, et qu'elle sépare les eaux d'avec les eaux. Et Dieu fit l'étendue, et il sépara les eaux qui sont au-dessous de l'étendue d'avec les eaux qui sont au-dessus de l'étendue. Et cela fut ainsi. Dieu appela l'étendue ciel. Ainsi, il y eut un soir, et il y eut un matin: ce fut le second jour. Dieu dit: Que les eaux qui sont au-dessous du ciel se rassemblent en un seul lieu, et que le sec paraisse. Et cela fut ainsi. Dieu appela le sec terre, et il appela l'amas des eaux mers. Dieu vit que cela était bon. Puis Dieu dit: Que la terre produise de la verdure, de l'herbe portant de la semence, des arbres fruitiers donnant du fruit selon leur espèce et ayant en eux leur semence sur la terre. Et cela fut ain La terre produisit de la verdure, de l'herbe portant de la semence selon son espèce, et des arbres donnant du fruit et ayant en eux leur semence selon leur espèce. Dieu vit que cela était bon. Ainsi, il y eut un soir, et il y eut un matin: ce fut le troisième jour. Dieu dit: Qu'il y ait des luminaires dans l'étendue du ciel, pour séparer le jour d'avec la nuit; que ce soient des signes pour marquer les époques, les jours et les années; et qu'ils servent de luminaires dans l'étendue du ciel, pour éclairer la terre. Et cela fut ainsi. Dieu fit les deux grands luminaires, le plus grand luminaire pour présider au jour, et le plus petit luminaire pour présider à la nuit; il fit aussi les étoiles. Dieu les plaça dans l'étendue du ciel, pour éclairer la terre, pour présider au jour et à la nuit, et pour séparer la lumière d'avec les ténèbres. Dieu vit que cela était bon. Ainsi, il y eut un soir, et il y eut un matin: ce fut le quatrième jour. Dieu dit: Que les eaux produisent en abondance des animaux vivants, et que des oiseaux volent sur la terre vers l'étendue du ciel. Dieu créa les grands poissons et tous les animaux vivants qui se meuvent, et que les eaux produisirent en abondance selon leur espèce; il créa aussi tout oiseau ailé selon son espèce. Dieu vit que cel Dieu les bénit, en disant: Soyez féconds, multipliez, et remplissez les eaux des mers; et que les oiseaux multiplient sur la terre. Ainsi, il y eut un soir, et il y eut un matin: ce fut le cinquième jour. Dieu dit: Que la terre produise des animaux vivants selon leur espèce, du bétail, des reptiles et des animaux terrestres, selon leur espèce. Et cela fut ainsi. Dieu fit les animaux de la terre selon leur espèce, le bétail selon son espèce, et tous les reptiles de la terre selon leur espèce. Dieu vit que cela était bon. Puis Dieu dit: Faisons l'homme à notre image, selon notre ressemblance, et qu'il domine sur les poissons de la mer, sur les oiseaux du ciel, sur le bétail, sur toute la terre, et sur tous les reptiles Dieu créa l'homme à son image, il le créa à l'image de Dieu, il créa l'homme et la femme. Dieu les bénit, et Dieu leur dit: Soyez féconds, multipliez, remplissez la terre, et l'assujettissez; et dominez sur les poissons de la mer, sur les oiseaux du ciel, et sur tout animal qui se meut sur Et Dieu dit: Voici, je vous donne toute herbe portant de la semence et qui est à la surface de toute la terre, et tout arbre ayant en lui du fruit d'arbre et portant de la semence: ce sera votre nourr Et à tout animal de la terre, à tout oiseau du ciel, et à tout ce qui se meut sur la terre, ayant en soi un souffle de vie, je donne toute herbe verte pour nourriture. Et cela fut ainsi. Dieu vit tout ce qu'il avait fait et voici, cela était très bon. Ainsi, il y eut un soir, et il y eut un matin: ce fut le sixième jour. Joe Paterno, né le 21 décembre 1926 à Brooklyn et mort le 22 janvier 2012 à State College, est un joueur et entraîneur américain de football américain universitaire. Figure historique et emblématique   Lors de ses brillantes études de droit à l'université Brown, Joe Paterno joue au football américain et est entraîné par Rip Engle. Ce dernier, embauché par l'université de Penn State, le recrute comme  Reconnu pour ses succès sportifs, académiques et son exemplarité, JoePa est adulé comme une icône populaire dans la région de State College. Onze jours après avoir célébré sa 409e victoire avec les Li Chacun peut publier immédiatement du contenu en ligne, à condition de respecter les règles essentielles établies par la Fondation Wikimedia et par la communauté ; par exemple, la vérifiabilité du cont  De nombreuses pages d’aide sont à votre disposition, notamment pour créer un article, modifier un article ou insérer une image. N’hésitez pas à poser une question pour être aidé dans vos premiers pas,  Les pages de discussion servent à centraliser les réflexions et les remarques permettant d’améliorer les articles. En 1894, l’explorateur Gustav Adolf von Götzen suivait les traces d’un missionnaire en provenance de la cote orientale d’Afrique. Pendant qu’il se rendait au Rwanda, il découvre un petit village des p  En ce moment, Goma reste un poste de transaction lacustre avec Bukavu qui était une ville minière. Plus tard, Rutshuru, Masisi, Kalehe, Gisenyi, etc. déverseront leurs populations dans Goma, à la rech  La ville est la base arrière de l'opération Turquoise organisée en 1994 à la fin du génocide rwandais.  La ville et ses environs abriteront dans des camps autour de 650 000 réfugiés hutus de 1994 jusqu'à la chute du Zaïre, dont certains supposés anciens génocidaires. Selon des ONG, l'AFDL procède à des   De 1998 à 2002/2003, la ville, sous contrôle du Rassemblement congolais pour la démocratie (RCD) pro-rwandais échappe au contrôle du gouvernement congolais.  De nombreux viols, massacres et crimes de guerre y ont été perpétrés entre 1996 et 2006 par les troupes des généraux rebelles du RCD, essentiellement sous les généraux Nkundabatware et Mutebusi.  En 2002, le Nyiragongo entra en éruption, et une coulée de lave atteignit le centre de la ville. La lave n'a pas atteint le lac Kivu fort heureusement, en effet ce lac est un lac méromictique et un ch  Débordant de populations fuyant les violences, Goma compte en 2012 plus de 400 000 habitants. Ceux qui ne peuvent pas trouver d'abri remplissent les camps de réfugiés, où l'ONU et les ONG se débattent ...</span></span></code></pre></div>
<p>Calculate letter frequencies:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">freq_french</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/letter_freq.html">letter_freq</a></span><span class="op">(</span><span class="va">french</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">freq_french</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;    characters total    scaled frequencies</span></span>
<span><span class="co">#&gt; 1           e  1128 1.0000000  0.15401420</span></span>
<span><span class="co">#&gt; 2           s   572 0.5066548  0.07809940</span></span>
<span><span class="co">#&gt; 3           i   559 0.4951198  0.07632441</span></span>
<span><span class="co">#&gt; 4           t   551 0.4880213  0.07523211</span></span>
<span><span class="co">#&gt; 5           a   547 0.4844720  0.07468596</span></span>
<span><span class="co">#&gt; 6           u   515 0.4560781  0.07031677</span></span>
<span><span class="co">#&gt; 7           r   494 0.4374445  0.06744948</span></span>
<span><span class="co">#&gt; 8           n   491 0.4347826  0.06703987</span></span>
<span><span class="co">#&gt; 9           l   462 0.4090506  0.06308028</span></span>
<span><span class="co">#&gt; 10          o   347 0.3070098  0.04737848</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="creating-heatmaps">Creating Heatmaps<a class="anchor" aria-label="anchor" href="#creating-heatmaps"></a>
</h2>
<p>Visualize which keys are used most frequently with heatmaps:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">heatmap_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/heatmapize.html">heatmapize</a></span><span class="op">(</span><span class="va">ch_qwertz</span>, <span class="va">freq_french</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ggkeyboard.html">ggkeyboard</a></span><span class="op">(</span><span class="va">heatmap_data</span><span class="op">)</span></span></code></pre></div>
<p>The color intensity shows key usage - brighter colors indicate more
frequent keys. An ideal layout would have the brightest keys on the home
row.</p>
</div>
<div class="section level2">
<h2 id="calculating-typing-effort">Calculating Typing Effort<a class="anchor" aria-label="anchor" href="#calculating-typing-effort"></a>
</h2>
<p>The package uses a Carpalx-inspired effort model. Calculate effort
for any layout:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">effort</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_layout_effort.html">calculate_layout_effort</a></span><span class="op">(</span></span>
<span>  keyboard <span class="op">=</span> <span class="va">ch_qwertz</span>,</span>
<span>  text_samples <span class="op">=</span> <span class="va">french</span>,</span>
<span>  breakdown <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">effort</span></span>
<span><span class="co">#&gt; $base_effort</span></span>
<span><span class="co">#&gt; [1] 2.923971</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $same_finger_effort</span></span>
<span><span class="co">#&gt; [1] 7054.919</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $same_hand_effort</span></span>
<span><span class="co">#&gt; [1] 1759.7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $row_change_effort</span></span>
<span><span class="co">#&gt; [1] 945.6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $total_effort</span></span>
<span><span class="co">#&gt; [1] 23400.18</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $same_finger_bigrams</span></span>
<span><span class="co">#&gt; [1] 1219</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $same_hand_bigrams</span></span>
<span><span class="co">#&gt; [1] 2293</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hand_alternations</span></span>
<span><span class="co">#&gt; [1] 3590</span></span></code></pre></div>
<p>The effort components are:</p>
<ul>
<li>
<strong>base_effort</strong> - Cost of reaching each key</li>
<li>
<strong>same_finger_effort</strong> - Penalty for consecutive keys
using same finger</li>
<li>
<strong>same_hand_effort</strong> - Penalty for same-hand
sequences</li>
<li>
<strong>row_change_effort</strong> - Penalty for switching rows
within hand</li>
</ul>
</div>
<div class="section level2">
<h2 id="comparing-layouts">Comparing Layouts<a class="anchor" aria-label="anchor" href="#comparing-layouts"></a>
</h2>
<p>Compare multiple layouts to find the best for your text:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_layouts.html">compare_layouts</a></span><span class="op">(</span></span>
<span>  keyboards <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    QWERTZ <span class="op">=</span> <span class="va">ch_qwertz</span>,</span>
<span>    BEPO <span class="op">=</span> <span class="va">afnor_bepo</span>,</span>
<span>    AZERTY <span class="op">=</span> <span class="va">afnor_azerty</span></span>
<span>  <span class="op">)</span>,</span>
<span>  text_samples <span class="op">=</span> <span class="va">french</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparison</span></span>
<span><span class="co">#&gt;   layout   effort rank relative</span></span>
<span><span class="co">#&gt; 1   BEPO 49182.74    1 100.0000</span></span>
<span><span class="co">#&gt; 2 QWERTZ 51534.63    2 104.7819</span></span>
<span><span class="co">#&gt; 3 AZERTY 52813.74    3 107.3827</span></span></code></pre></div>
<p>Lower effort is better. The <code>relative</code> column shows effort
as a percentage of the best layout.</p>
</div>
<div class="section level2">
<h2 id="optimizing-a-layout">Optimizing a Layout<a class="anchor" aria-label="anchor" href="#optimizing-a-layout"></a>
</h2>
<p>Now let’s optimize a layout using the genetic algorithm:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/optimize_layout.html">optimize_layout</a></span><span class="op">(</span></span>
<span>  text_samples <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">french</span>, <span class="va">luxembourguish</span><span class="op">)</span>,</span>
<span>  generations <span class="op">=</span> <span class="fl">50</span>,  <span class="co"># Use more (200-500) for better results</span></span>
<span>  population_size <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>View the results:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Improvement:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">improvement</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"%\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Improvement: 26.09 %</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Final effort:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">effort</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Final effort: 131997.2</span></span>
<span></span>
<span><span class="co"># View the optimized layout</span></span>
<span><span class="fu"><a href="../reference/print_layout.html">print_layout</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">layout</span><span class="op">)</span></span>
<span><span class="co">#&gt; ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐</span></span>
<span><span class="co">#&gt; │ D │ F │ T │ K │ O │ M │ W │ A │ R │ V │</span></span>
<span><span class="co">#&gt; ├───┼───┼───┼───┼───┼───┼───┼───┼───┘</span></span>
<span><span class="co">#&gt; │ H │ N │ I │ B │ S │ L │ G │ E │ U │</span></span>
<span><span class="co">#&gt; ├───┼───┼───┼───┼───┼───┼───┘</span></span>
<span><span class="co">#&gt; │ Z │ P │ J │ Q │ Y │ X │ C │</span></span>
<span><span class="co">#&gt; └───┴───┴───┴───┴───┴───┴───┘</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="using-fixed-keys">Using Fixed Keys<a class="anchor" aria-label="anchor" href="#using-fixed-keys"></a>
</h2>
<p>Keep certain keys in place while optimizing the rest:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result_fixed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/optimize_layout.html">optimize_layout</a></span><span class="op">(</span></span>
<span>  text_samples <span class="op">=</span> <span class="va">french</span>,</span>
<span>  fixed_keys <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"z"</span>, <span class="st">"x"</span>, <span class="st">"c"</span>, <span class="st">"v"</span><span class="op">)</span>,  <span class="co"># Keep Ctrl shortcuts</span></span>
<span>  generations <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Fixed keys:"</span>, <span class="va">result_fixed</span><span class="op">$</span><span class="va">n_fixed</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Fixed keys: 4</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Optimized keys:"</span>, <span class="va">result_fixed</span><span class="op">$</span><span class="va">n_optimized</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Optimized keys: 22</span></span>
<span><span class="fu"><a href="../reference/print_layout.html">print_layout</a></span><span class="op">(</span><span class="va">result_fixed</span><span class="op">$</span><span class="va">layout</span><span class="op">)</span></span>
<span><span class="co">#&gt; ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐</span></span>
<span><span class="co">#&gt; │ J │ Q │ A │ P │ B │ H │ S │ R │ Y │ G │</span></span>
<span><span class="co">#&gt; ├───┼───┼───┼───┼───┼───┼───┼───┼───┘</span></span>
<span><span class="co">#&gt; │ I │ O │ E │ M │ T │ U │ L │ N │ D │</span></span>
<span><span class="co">#&gt; ├───┼───┼───┼───┼───┼───┼───┘</span></span>
<span><span class="co">#&gt; │ Z │ X │ C │ V │ F │ W │ K │</span></span>
<span><span class="co">#&gt; └───┴───┴───┴───┴───┴───┴───┘</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="tracking-convergence">Tracking Convergence<a class="anchor" aria-label="anchor" href="#tracking-convergence"></a>
</h2>
<p>The optimization returns history data you can plot:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">history</span><span class="op">$</span><span class="va">generation</span>, <span class="va">result</span><span class="op">$</span><span class="va">history</span><span class="op">$</span><span class="va">best</span>,</span>
<span>     type <span class="op">=</span> <span class="st">"l"</span>, col <span class="op">=</span> <span class="st">"blue"</span>, lwd <span class="op">=</span> <span class="fl">2</span>,</span>
<span>     xlab <span class="op">=</span> <span class="st">"Generation"</span>, ylab <span class="op">=</span> <span class="st">"Effort"</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"Optimization Convergence"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">history</span><span class="op">$</span><span class="va">generation</span>, <span class="va">result</span><span class="op">$</span><span class="va">history</span><span class="op">$</span><span class="va">mean</span>, </span>
<span>      col <span class="op">=</span> <span class="st">"gray"</span>, lty <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topright"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Best"</span>, <span class="st">"Mean"</span><span class="op">)</span>, </span>
<span>       col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"blue"</span>, <span class="st">"gray"</span><span class="op">)</span>, lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="getting-started_files/figure-html/convergence-1.png" class="r-plt" alt="" width="672"></p>
</div>
<div class="section level2">
<h2 id="including-accented-characters">Including Accented Characters<a class="anchor" aria-label="anchor" href="#including-accented-characters"></a>
</h2>
<p>For languages with frequent accented characters (French, German,
Luxembourgish), you can optimize a 30-key layout that includes é, è, ä,
ü as first-class keys:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result_accents</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/optimize_layout.html">optimize_layout</a></span><span class="op">(</span></span>
<span>  text_samples <span class="op">=</span> <span class="va">french</span>,</span>
<span>  include_accents <span class="op">=</span> <span class="cn">TRUE</span>,  <span class="co"># Adds é, è, ä, ü to the optimization</span></span>
<span>  generations <span class="op">=</span> <span class="fl">200</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This eliminates the need for dead keys or AltGr for the most common
accents.</p>
</div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<p>For more advanced optimization with custom constraints, see the
<strong>Composable Rules System</strong> vignette:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"rules-system"</span>, package <span class="op">=</span> <span class="st">"lbkeyboard"</span><span class="op">)</span></span></code></pre></div>
<p>This covers:</p>
<ul>
<li>Soft preferences (hand balance, row placement)</li>
<li>Combining multiple rules</li>
<li>Fine-tuning rule weights</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Bruno Rodrigues.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
